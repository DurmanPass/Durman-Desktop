<div class="password-details-modal" *ngIf="localEntry">
    <header class="password-details-header" [style.background]="getHeaderGradient()">
        <img [src]="localEntry.favicon">
        <app-input class="details-title" [value]="localEntry.name" size="Medium" [isEditable]="idEditLocalEntry" placeholder="*Введите название*"/>
    </header>
    <div class="details">
        <div class="main-details">
            <div class="detail-item">
                <span class="label">Имя пользователя:</span>
                <app-input [value]="localEntry.credentials.username" [isEditable]="idEditLocalEntry" placeholder="Введите имя пользователя"/>
                <button *ngIf="mode === PasswordDetailsModalModes.EDIT" class="copy-btn" (click)="copyToClipboard(localEntry.credentials.username)">Копировать</button>
            </div>
            <div class="detail-item">
                <span class="label">Эл.Почта:</span>
                <app-input [value]="localEntry.credentials.email" [isEditable]="idEditLocalEntry" placeholder="Введите Эл.почту"/>
                <button *ngIf="mode === PasswordDetailsModalModes.EDIT" class="copy-btn" (click)="copyToClipboard(localEntry.location.url)">Копировать</button>
            </div>
            <div class="detail-item">
                <span class="label">Пароль:</span>
                <app-input type="password" [value]="localEntry.credentials.password" [isEditable]="idEditLocalEntry" placeholder="*Введите Пароль*"/>
                <button *ngIf="mode === PasswordDetailsModalModes.EDIT" class="copy-btn" (click)="copyToClipboard(localEntry.credentials.password)">Копировать</button>
            </div>
            <div class="detail-item">
                <app-password-strength-bar *ngIf="localEntry.credentials.password.length > 0" [showHints]="false" [password]="localEntry.credentials.password"/>
            </div>
            <div class="detail-item">
                <span class="label">URL:</span>
                <app-input [value]="localEntry.location.url" [isEditable]="idEditLocalEntry" placeholder="Введите URL"/>
                <button *ngIf="mode === PasswordDetailsModalModes.EDIT" class="copy-btn" (click)="copyToClipboard(localEntry.location.url)">Копировать</button>
            </div>
            <div class="detail-item" *ngIf="mode === PasswordDetailsModalModes.EDIT">
                <span class="label">Домен:</span>
                <app-input [value]="localEntry.location.domain" [isEditable]="idEditLocalEntry"/>
                <button *ngIf="mode === PasswordDetailsModalModes.EDIT" class="copy-btn" (click)="copyToClipboard(localEntry.location.domain)">Копировать</button>
            </div>
            <div class="detail-item">
                <span class="label">Категория:</span>
                <span class="value">{{ localEntry.metadata.category || 'Без категории' }}</span>
            </div>
        </div>
        <div class="detail-item">
            <span class="label">Создано:</span>
            <span class="value">{{ localEntry.metadata.createdAt | date:'dd.MM.yyyy HH:mm' }}</span>
        </div>
        <div class="detail-item">
            <span class="label">Обновлено:</span>
            <span class="value">{{ localEntry.metadata.updatedAt | date:'dd.MM.yyyy HH:mm' }}</span>
        </div>
        <div class="detail-item">
            <span class="label">Избранное:</span>
            <span class="value">{{ localEntry.security.isFavorite ? 'Да' : 'Нет' }}</span>
        </div>
        <div class="detail-item">
            <span class="label">Частота использования:</span>
            <span class="value">{{ localEntry.metadata.usageCount }} раз</span>
        </div>
    </div>
    <footer>
        <div class="info">
            <p *ngIf="PasswordDetailsModalModes.CREATE">*Поле* - Обязательное поле</p>
        </div>

        <div class="actions">
            <app-solid-button
                    *ngIf="mode === PasswordDetailsModalModes.EDIT"
                    text="Редактировать"
                    bgColor="DarkOrange"
                    size="Medium"
                    (click)="editEntry()"
            />

            <app-solid-button
                    *ngIf="mode === PasswordDetailsModalModes.CREATE && (localEntry.credentials.password.length > 0 && localEntry.name.length > 0)"
                    text="Создать"
                    bgColor="DarkGreen"
                    size="Medium"
            />
        </div>
    </footer>
</div>